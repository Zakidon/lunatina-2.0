---
// src/layouts/BaseLayout.astro
import "../styles/global.css";
import ThemeToggle from '../components/ui/ThemeToggle.astro';
const { title, description } = Astro.props;
---

<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" href="/sunmanD.svg" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <script is:inline>
      // Initialize theme based on localStorage or system preference
      (function() {
        const saved = localStorage.getItem('theme');
        const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const isDark = saved === 'dark' || (saved === null && systemDark);
        
        if (isDark) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      })();
    </script>
  </head>
  <body class="min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-10 font-sans antialiased transition-colors">
    <a href="#main" class="sr-only focus:not-sr-only">Перейти к основному контенту</a>
    
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800">
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between h-16">
          <a href="/" class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-violet-600 rounded-full flex items-center justify-center">
              <span class="text-white font-bold text-xl">L</span>
            </div>
            <span class="text-xl font-bold font-serif hidden sm:inline">Lunatina</span>
          </a>
          
          <nav class="hidden md:flex items-center space-x-8">
            <a href="/blog" class="text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 transition-colors">Блог</a>
            <a href="/autocontent" class="text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 transition-colors">Контент</a>
            <a href="/tools" class="text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 transition-colors">Инструменты</a>
            <a href="/o-nas" class="text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 transition-colors">О нас</a>
          </nav>

          <div class="flex items-center space-x-4">
            <ThemeToggle />
            <a href="/contact" class="px-4 py-2 bg-violet-60 hover:bg-violet-700 text-white rounded-full text-sm font-medium transition-colors">
              Связаться
            </a>
          </div>
        </div>
      </div>
    </header>

    <div id="main">
      <slot />
    </div>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-800 mt-24 py-12">
      <div class="container mx-auto px-4">
        <div class="grid md:grid-cols-4 gap-8 mb-8">
          <div>
            <h3 class="font-bold font-serif text-lg mb-4">Lunatina</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">Готовые решения для мастеров</p>
          </div>
          <div>
            <h4 class="font-semibold mb-3">Решения</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/templates" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Шаблоны</a></li>
              <li><a href="/autocontent" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Контент</a></li>
              <li><a href="/tools" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Инструменты</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-3">Компания</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/o-nas" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">О нас</a></li>
              <li><a href="/showcases" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Примеры</a></li>
              <li><a href="/workshops" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Идеи</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-3">Поддержка</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/contact" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Контакты</a></li>
              <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400">Telegram</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-200 dark:border-gray-700 pt-6 text-center text-sm text-gray-600 dark:text-gray-400">
          © 2025 Lunatina. Все права защищены.
        </div>
      </div>
    </footer>
  </body>
</html>